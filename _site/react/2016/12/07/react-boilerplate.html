<p>In this article we are going to explore how to setup a React environment with Webpack and Reload.</p>

<p>This improves resource management compared to the vary basic approach discussed in <a href="http://develdoe.com/2016/react-simple-code-example/">Simple Code Example</a>.</p>

<p><strong>Make</strong></p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>mkdir react-boilerplate
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cd react-boilerplate
</code></pre>
</div>

<p><strong>Modules</strong></p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm init
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install -g webpack@1.12.13
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install --save react@0.14.7 react-dom@0.14.7 express
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install --save-dev babel-core@6.5.1 babel-loader@6.2.2 babel-preset-es2015@6.5.0 babel-preset-react@6.5.0 babel-preset-stage-0@6.22.0
</code></pre>
</div>

<p><strong>Files</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ mkdir public app app/components
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>$ touch public/index.html app/entry.jsx webpack.config.js server.js
</code></pre>
</div>

<p><strong>./server.js</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">),</span>
    <span class="nx">app</span>     <span class="o">=</span> <span class="nx">express</span><span class="p">()</span>


<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="kr">static</span><span class="p">(</span><span class="s1">'public'</span><span class="p">))</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">4000</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Express server is up on port: 4000'</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
</div>

<p><strong>./webpack.config.js</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">entry</span><span class="p">:</span> <span class="s1">'./app/entry.jsx'</span><span class="p">,</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">__dirname</span><span class="p">,</span>
        <span class="na">filename</span><span class="p">:</span> <span class="s1">'./public/bundle.js'</span>
    <span class="p">},</span>
    <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">root</span><span class="p">:</span> <span class="nx">__dirname</span><span class="p">,</span>
        <span class="na">alias</span><span class="p">:</span> <span class="p">{</span>
        <span class="p">},</span>
        <span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="s1">''</span><span class="p">,</span><span class="s1">'.js'</span><span class="p">,</span><span class="s1">'.jsx'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">loader</span><span class="p">:</span> <span class="s1">'babel-loader'</span><span class="p">,</span>
                <span class="na">query</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">presets</span><span class="p">:</span> <span class="p">[</span><span class="s1">'react'</span><span class="p">,</span><span class="s1">'es2015'</span><span class="p">,</span><span class="s1">'stage-0'</span><span class="p">]</span>
                <span class="p">},</span>
                <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">jsx</span><span class="se">?</span><span class="sr">$/</span><span class="p">,</span>
                <span class="na">exclude</span><span class="p">:</span> <span class="sr">/</span><span class="se">(</span><span class="sr">node_modules|bower_components</span><span class="se">)</span><span class="sr">/</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>./public/index.html</strong></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span> <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">utf-8</span><span class="nt">&gt;</span> <span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">app</span><span class="nt">&gt;&lt;/div&gt;</span>

    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">/js/bundle.js</span><span class="nt">&gt;&lt;/script&gt;</span>


</code></pre>
</div>

<p><em>./app/entry.jsx</em></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">React</span>       <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'react'</span><span class="p">),</span>
    <span class="nx">ReactDOM</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'react-dom'</span><span class="p">)</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">React</span> <span class="o">-</span> <span class="nx">Boilerpate</span><span class="o">&lt;</span><span class="sr">/h1&gt;</span><span class="err">,
</span>        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'app'</span><span class="p">)</span>
<span class="p">)</span>

</code></pre>
</div>

<p>Run:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>webpack -w
</code></pre>
</div>

<p>new terminal window:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>node server.js
</code></pre>
</div>
